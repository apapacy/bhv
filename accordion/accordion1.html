<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html>
<head>
<title>Ajax: accordion</title>
<link rel="stylesheet" type="text/css" href="accordion.css">

<script type="text/javascript">
// Функция-"заглушка" 
function accordionTitleOnClick1(element) {
    alert(element.innerHTML);
    alert(element.parentNode.innerHTML);
}

// Функция-обработиик 
function accordionTitleOnClick(element) {
    var accordion = element.parentNode;
    var childs = accordion.childNodes;
    var div = [];

    for  (var i = 0; i < childs.length; i++)
        if (childs[i].tagName == "DIV")
            div[div.length] = childs[i];

    var currentTitle = null;
    var currentPane = null;
    var nextTitle = element;
    var nextPane = null;

    for (var i = 0; i < div.length; i ++)
        if (div[i] == nextTitle)
            nextPane = div[i+1]


    for (var i = 0; i < div.length; i ++)
        if (div[i].className == "accordionCurrentTitle")
            currentTitle = div[i];
        else if (div[i].className == "accordionCurrentPane")
            currentPane = div[i];

    currentTitle.className = "accordionOtherTitle";
    currentPane.className = "accordionOtherPane";
    nextTitle.className = "accordionCurrentTitle";
    nextPane.className = "accordionCurrentPane";   
}
</script>
</head>
<body>

<h1>Компонент "Аккордеон"</h1>

<div class="accordionComponent" id="accordeon1">

<div class="accordionCurrentTitle" onclick="accordionTitleOnClick(this);">
Заголовок первого раздела
</div>

<div class="accordionCurrentPane">
Первый раздел компонента "Аккордеон"
будет отображен при первоначальной загрузке страницы.
</div>

<div class="accordionOtherTitle" onclick="accordionTitleOnClick(this);">
Заголовок второго раздела (click me)
</div>

<div class="accordionOtherPane">
Второй и последующие разделы компонента "Аккордеон"
срыты при первоначальной загрузке страницы.
</div>

<div class="accordionOtherTitle" onclick="accordionTitleOnClick(this);">
Заголовок третьего раздела
</div>

<div class="accordionOtherPane">
Для того, чтобы раскрылся очередной раздел компонента "Аккордеон"
необходимо кликнуть левой кнопкой мыши по заголовку раздела.
</div>

<div class="accordionOtherTitle" onclick="accordionTitleOnClick(this);">
Заголовок четвертого раздела
</div>

<div class="accordionOtherPane">
Раздел может быть коротким и помещаться текущей панели. А может ...
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
... и не помещаться в текущей панели без скроллинга. Как этот раздел.
</div>

</div>

</body>
</html>

